# ansible-role-cloudformation-elasticsearch

## Variables

| Variable        | Required           | Default  | Description |
| ------------- |:-------------:| -----:| -------------------------------------------------------------------------:|
| elasticsearch_stack_name | yes | | Name of the ElasticSearch CloudFormation stack |
| elasticsearch_lambda_s3_bucket | yes | | Bucket of the lambda function code that processes the log data from kinesis |
| elasticsearch_lambda_s3_object | yes | | Object of the lambda function code that processes the log data from kinesis |
| elasticsearch_access_ips | yes | | list of IPs to allow into elasticsearch  |
| elasticsearch_build_dir | yes | build (relative path) | Where artifacts generated by the playbook should go |
| elasticsearch_template | yes | <strong>elasticsearch_build_path</strong>/<strong>elasticsearch_stack_name</strong>.json | Destination for the rendered ElasticSearch CloudFormation template |
| elasticsearch_instance_type | yes | m3.medium.elasticsearch | The instance type of the ElasticSearch cluster nodes |
| elasticsearch_kinesis_shard_count | yes | | Number of shards to use with the Kinesis stream |
| elasticsearch_use_ebs | yes | false | Whether or not to use EBS volumes for data persistence on the cluster nodes |
| elasticsearch_ebs_type | yes | "gp2" | If EBS volumes are used for data persistence on the cluster nodes, the type of volume to use |
| elasticsearch_ebs_size | no | 0 | If EBS volumes are used for data persistence on the cluster nodes, the size (in GB) of volume to use |
| elasticsearch_ebs_iops | no | | If provisioned IOPS are required on the EBS volumes, the IOPS requirement |
| elasticsearch_dedicated_master_enabled | no | false |  Whether to use dedicated master nodes for the ElasticSearch cluster |
| elasticsearch_dedicated_master_count | conditional | 0 | Number of dedicated master nodes for the cluster. Note: although there is a default of 0, this value is not valid. If using dedicated masters, this value must be set to something > 0 |
| elasticsearch_dedicated_master_type | no | m3.medium.elasticsearch | Instance type of dedicated master nodes |
| elasticsearch_zone_awareness_enabled | no | false | Whether nodes should be distributed accross availability zones |
| elasticsearch_snapshot_hour | no | 0 | The hour in which to take the daily snapshot |
| elasticsearch_instance_count | yes | 3 | The number of nodes to use in the cluster |
| elasticsearch_stack_description | no | | Description of the stacks being deployed |
| elasticsearch_stack_state | yes | present | Either present or absent to indicate whether to create or delete stack |
